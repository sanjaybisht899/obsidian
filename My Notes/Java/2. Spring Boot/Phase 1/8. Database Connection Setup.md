
Spring Boot simplifies database connection setup using Spring Data JPA and configuration files such as `application.properties` or `application.yml`.

### Steps for Database Connection (e.g., MySQL):

1. **Add Dependencies in `pom.xml`**
    
    ```xml
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-data-jpa</artifactId>
    </dependency>
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
    </dependency>
    ```
    
2. **Configure `application.properties` (for MySQL):**
    
    ``properties
    spring.datasource.url=jdbc:mysql://localhost:3306/mydb
    spring.datasource.username=root
    spring.datasource.password=root
    spring.jpa.hibernate.ddl-auto=update
    spring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect
    ``
    
3. **Entity Class:**
    
    ```java
    @Entity
    @Table(name = "users")
    public class User {
        @Id
        @GeneratedValue(strategy = GenerationType.IDENTITY)
        private Long id;
        private String name;
        private String email;
    
        // Getters and Setters
    }
    ```
    
4. **Repository Interface:**
    
    ```java
    public interface UserRepository extends JpaRepository<User, Long> {}
    ```
    

Spring Boot will automatically configure the database connection based on these settings.

---

# Connecting Multiple Databases (e.g., MySQL1, MySQL2, MongoDB):

To connect multiple databases, you need to define multiple `DataSource` beans and configure them separately.

### Steps:

1. **Add Dependencies:**
    
    ```xml
    <!-- For MySQL1 -->
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
    </dependency>
    <!-- For MySQL2 -->
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
    </dependency>
    <!-- For MongoDB -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-data-mongodb</artifactId>
    </dependency>
    ```
    
2. **Configure `application.properties` for multiple databases:**
    
    ``properties
    # MySQL1 Configuration
    spring.datasource.mysql1.url=jdbc:mysql://localhost:3306/mysql1
    spring.datasource.mysql1.username=root
    spring.datasource.mysql1.password=root
    
    # MySQL2 Configuration
    spring.datasource.mysql2.url=jdbc:mysql://localhost:3306/mysql2
    spring.datasource.mysql2.username=root
    spring.datasource.mysql2.password=root
    
    # MongoDB Configuration
    spring.data.mongodb.uri=mongodb://localhost:27017/mydb
    ``
    
3. **Configure Multiple DataSources in Java:**
    
    - **For MySQL1:**
        
        ```java
        @Configuration
        @EnableTransactionManagement
        @EnableJpaRepositories(
            basePackages = "com.example.repository.mysql1",
            entityManagerFactoryRef = "mysql1EntityManagerFactory",
            transactionManagerRef = "mysql1TransactionManager"
        )
        public class MySQL1Config {
        
            @Bean(name = "mysql1DataSource")
            @Primary
            @ConfigurationProperties(prefix = "spring.datasource.mysql1")
            public DataSource dataSource() {
                return DataSourceBuilder.create().build();
            }
        
            @Bean(name = "mysql1EntityManagerFactory")
            public LocalContainerEntityManagerFactoryBean entityManagerFactory(
                    EntityManagerFactoryBuilder builder,
                    @Qualifier("mysql1DataSource") DataSource dataSource) {
                return builder
                        .dataSource(dataSource)
                        .packages("com.example.model.mysql1")
                        .persistenceUnit("mysql1")
                        .build();
            }
        
            @Bean(name = "mysql1TransactionManager")
            public PlatformTransactionManager transactionManager(
                    @Qualifier("mysql1EntityManagerFactory") EntityManagerFactory entityManagerFactory) {
                return new JpaTransactionManager(entityManagerFactory);
            }
        }
        ```
        
    - **For MySQL2 and MongoDB:**  
        Similar setup as MySQL1 but with different configurations.
        
4. **Repositories:**
    
    - For **MySQL1**, use `@Repository` with the correct configuration for MySQL1.
    - For **MySQL2**, use `@Repository` with the correct configuration for MySQL2.
    - For **MongoDB**, Spring Data MongoDB works automatically using the MongoDB URI.

---

### Summary:

- **Single Database:** Spring Boot configures the database connection automatically using `application.properties` and JPA.
- **Multiple Databases:** Define separate `DataSource` beans, entity managers, and transaction managers for each database (e.g., MySQL1, MySQL2, MongoDB). Configure different repositories for each database connection.

---
